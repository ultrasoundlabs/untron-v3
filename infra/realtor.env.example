# Realtor API inside docker-compose
API_BIND=0.0.0.0:3000

# Indexer API inside docker-compose (PostgREST)
INDEXER_API_BASE_URL=http://postgrest:3000
INDEXER_TIMEOUT_SECS=10

# Optional: shared Postgres for write audit logging.
# - In docker-compose, this is configured in `infra/docker-compose.yml` by default.
# - When running locally against the compose DB:
#   DATABASE_URL=postgres://postgres:<POSTGRES_PASSWORD>@localhost:5433/untron
DATABASE_URL=
DB_MAX_CONNECTIONS=5

# Export OTLP to the local collector (set OTEL_DISABLED=1 to disable exporters entirely).
OTEL_EXPORTER_OTLP_ENDPOINT=http://otelcol:4317

# Hub chain (EVM) JSON-RPC (defaults point at RPCs on your host machine).
HUB_RPC_URL=http://host.docker.internal:8545
HUB_CHAIN_ID=31337
HUB_UNTRON_V3_ADDRESS=0x0000000000000000000000000000000000000000

# Safe-4337 relaying (fill these with your deployed addresses).
HUB_ENTRYPOINT_ADDRESS=0x0000000071727De22E5E9d8BAf0edAc6f37da032
# Optional. If unset/zero, the relayer will deterministically derive+deploy a 1/1 Safe owned by HUB_OWNER_PRIVATE_KEY_HEX with saltNonce=0.
HUB_SAFE_ADDRESS=
HUB_SAFE_4337_MODULE_ADDRESS=0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226
# Required when HUB_SAFE_ADDRESS is unset/zero.
HUB_SAFE_PROXY_FACTORY_ADDRESS=0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67
HUB_SAFE_SINGLETON_ADDRESS=0x29fcB43b46531BcA003ddC8FCB67FFE91900C762
HUB_SAFE_MODULE_SETUP_ADDRESS=0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47

# 32-byte hex private key for the 1/1 Safe owner.
HUB_OWNER_PRIVATE_KEY_HEX=0x1111111111111111111111111111111111111111111111111111111111111111

# Comma-separated list of bundler JSON-RPC URLs (required).
HUB_BUNDLER_URLS=http://host.docker.internal:4337

# Optional ERC-7677 paymaster web services (JSON array). Example:
# HUB_PAYMASTERS_JSON=[{"url":"https://...","context":{"policyId":"..."}},{"url":"https://...","context":{}}]
HUB_PAYMASTERS_JSON=

# Lease defaults used by the API handler (caller supplies lessee/target/beneficiary per-request).
LEASE_DEFAULT_FEE_PPM=10000
LEASE_DEFAULT_FLAT_FEE=0
LEASE_DEFAULT_DURATION_SECS=2592000

# Optional per-(target_chain_id,target_token) additional flat fee (JSON array). Example:
# LEASE_PAIR_ADDITIONAL_FLAT_FEES_JSON=[{"target_chain_id":1,"target_token":"0x0000000000000000000000000000000000000000","additional_flat_fee":123}]
LEASE_PAIR_ADDITIONAL_FLAT_FEES_JSON=

# Additional flat fee added when `lessee` is provided in POST /realtor.
LEASE_ARBITRARY_LESSEE_FLAT_FEE=0

# Optional fallback receiver salts (CSV of bytes32 hex strings).
# Used only when the indexer has no free salts available.
# Example:
# LEASE_PREKNOWN_RECEIVER_SALTS=0x0000000000000000000000000000000000000000000000000000000000000001,0x...
LEASE_PREKNOWN_RECEIVER_SALTS=

# Optional: enable local deterministic receiver address derivation for GET /leases/{lease_id}
# when the indexer does not have receiver address rows yet.
#
# This requires a Tron JSON-RPC endpoint so the realtor can call:
# - UntronV3.CONTROLLER_ADDRESS() on hub chain (via HUB_RPC_URL), then
# - UntronController.receiverBytecode() on Tron (via TRON_RPC_URL),
# and compute keccak256(init_code) for CREATE2 address derivation.
TRON_RPC_URL=
