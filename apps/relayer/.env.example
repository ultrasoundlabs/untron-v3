# Indexer API inside docker-compose (PostgREST)
INDEXER_API_BASE_URL=http://postgrest:3000
INDEXER_TIMEOUT_SECS=10
INDEXER_MAX_HEAD_LAG_BLOCKS=50

# Export OTLP to the local collector (set OTEL_DISABLED=1 to disable exporters entirely).
OTEL_EXPORTER_OTLP_ENDPOINT=http://otelcol:4317

# Hub chain (EVM) JSON-RPC (defaults point at RPCs on your host machine).
HUB_RPC_URL=http://host.docker.internal:8545
HUB_CHAIN_ID=31337
HUB_UNTRON_V3_ADDRESS=0x0000000000000000000000000000000000000000

# Safe-4337 relaying (fill these with your deployed addresses).
HUB_ENTRYPOINT_ADDRESS=0x0000000000000000000000000000000000000000
# Optional. If unset/zero, the relayer will deterministically derive+deploy a 1/1 Safe owned by HUB_OWNER_PRIVATE_KEY_HEX with saltNonce=0.
HUB_SAFE_ADDRESS=0x0000000000000000000000000000000000000000
HUB_SAFE_4337_MODULE_ADDRESS=0x0000000000000000000000000000000000000000
# Required when HUB_SAFE_ADDRESS is unset/zero.
HUB_SAFE_PROXY_FACTORY_ADDRESS=0x0000000000000000000000000000000000000000
HUB_SAFE_SINGLETON_ADDRESS=0x0000000000000000000000000000000000000000
HUB_SAFE_MODULE_SETUP_ADDRESS=0x0000000000000000000000000000000000000000

# 32-byte hex private key for the 1/1 Safe owner.
HUB_OWNER_PRIVATE_KEY_HEX=0x1111111111111111111111111111111111111111111111111111111111111111

# Comma-separated list of bundler JSON-RPC URLs (required).
HUB_BUNDLER_URLS=http://host.docker.internal:4337

# Optional ERC-7677 paymaster web services (JSON array). Example:
# HUB_PAYMASTERS_JSON=[{"url":"https://...","context":{"policyId":"..."}},{"url":"https://...","context":{}}]
HUB_PAYMASTERS_JSON=

# Optional Uniswap v4 routing for non-USDT fills.
# If UNISWAP_V4_ALLOWED_POOLS_JSON is empty, the relayer will only fill the USDT queue.
# Pool entries use PoolKey fields because v4 pools are not standalone pool contracts.
# Example:
# UNISWAP_V4_ALLOWED_POOLS_JSON=[{"currency0":"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48","currency1":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","fee":500,"tick_spacing":10,"hooks":"0x0000000000000000000000000000000000000000"}]
UNISWAP_V4_ALLOWED_POOLS_JSON=
# Optional pool manager override. If empty, relayer resolves canonical address from chain id.
UNISWAP_V4_POOL_MANAGER_ADDRESS=
# Required swap endpoint: must support v4 swap actions (e.g. Universal Router),
# not the v4 PositionManager.
UNISWAP_V4_SWAP_ROUTER_ADDRESS=
# Backward-compat alias; if set, treated like UNISWAP_V4_SWAP_ROUTER_ADDRESS.
UNISWAP_V4_POSITION_MANAGER_ADDRESS=
# Slippage as decimal fraction (0.003 = 0.3%).
UNISWAP_V4_SLIPPAGE=0.003
# If true, allow Safe top-ups when quoted min output is below expectedOutTotal.
UNISWAP_V4_ALLOW_TOPUP=false

# Tron gRPC (defaults point at your host machine).
TRON_GRPC_URL=http://host.docker.internal:50051
TRON_API_KEY=
TRON_PRIVATE_KEY_HEX=0x2222222222222222222222222222222222222222222222222222222222222222
TRON_CONTROLLER_ADDRESS=T9yD14Nj9j7xAB4dbGeiX9h8unkKHxuWwb
TRON_BLOCK_LAG=0
# Per-tx fee_limit is derived from chain params + estimateEnergy (energy + bandwidth) and headroomed.
TRON_FEE_LIMIT_HEADROOM_PPM=100000

# Optional energy rental providers (JSON array).
# The relayer will rotate through providers on failures.
# Placeholders in `url`, `headers` values, and `body` strings:
#   {{resource_kind}} {{amount}} {{address_base58check}} {{address_hex41}} {{address_evm_hex}} {{txid}}
# Example:
# TRON_ENERGY_RENTAL_APIS_JSON=[{"name":"provider1","url":"https://...","method":"POST","headers":{"Authorization":"Bearer ..."},"body":{"address":"{{address_base58check}}","energy":"{{amount}}"},"response":{"success_pointer":"/success","success_equals":true,"order_id_pointer":"/data/orderId","error_pointer":"/error"}}]
TRON_ENERGY_RENTAL_APIS_JSON=
# Max time to poll for rented energy to appear (0 disables waiting).
TRON_ENERGY_RENTAL_CONFIRM_MAX_WAIT_SECS=6

# Job knobs
RELAYER_TICK_INTERVAL_SECS=5
TRON_FINALITY_BLOCKS=19
TRON_TIP_PROOF_RESEND_BLOCKS=20
PROCESS_CONTROLLER_MAX_EVENTS=100
FILL_MAX_CLAIMS=50

# Controller rebalance policy (USDT base units, i.e. 1 = 0.000001 USDT)
CONTROLLER_REBALANCE_THRESHOLD_USDT=0
CONTROLLER_REBALANCE_KEEP_USDT=1
# Optional comma-separated list of rebalancer addresses to try first (Tron base58check T... or 0x... hex).
CONTROLLER_REBALANCE_PRIORITIZED_REBALANCERS=
# Optional comma-separated list of per-rebalancer caps (USDT min-units) aligned with
# CONTROLLER_REBALANCE_PRIORITIZED_REBALANCERS.
# - If a cap is 0 (or missing), the corresponding rebalancer is always preferred.
# - If `in_amount` exceeds the cap, that rebalancer is NOT preferred (but can still be used).
# Example: prefer 1Click only up to $10k, but always prefer LZ:
#   CONTROLLER_REBALANCE_PRIORITIZED_REBALANCERS=1click_addr,lz_addr
#   CONTROLLER_REBALANCE_PRIORITIZED_REBALANCERS_LIMITS_USDT=10000000000,0
CONTROLLER_REBALANCE_PRIORITIZED_REBALANCERS_LIMITS_USDT=

# Pull sizing (parts-per-million of total receiver liquidity, [0..1_000_000])
PULL_LIQUIDITY_PPM=500000
